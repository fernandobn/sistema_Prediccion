{% extends 'plantilla.html' %}
{% load static %}
{% block contenido %}
<!-- Formulario de Bienestar Laboral Start -->
<div class="container-xxl py-5">
  <div class="container">
    <div class="text-center mx-auto mb-5" style="max-width: 800px">
      <h2 class="mb-3">Formulario de Bienestar Laboral</h2>
      <p class="fs-5">
        Complete el formulario para evaluar su estado de bienestar en el trabajo.
      </p>
    </div>
    <form id="formBienestarLaboral" action="#" method="POST">
      {% csrf_token %}
      <div class="row g-4">
        <!-- Nivel de estrés -->
        <div class="col-md-6">
          <div class="form-floating">
            <input
              type="number"
              class="form-control"
              id="nivel_estres"
              name="nivel_estres"
              min="0"
              max="10"
              step="1"
              required
            />
            <label for="nivel_estres">Nivel de estrés (0-10)</label>
          </div>
        </div>

        <!-- Horas trabajadas a la semana -->
        <div class="col-md-6">
          <div class="form-floating">
            <input
              type="number"
              class="form-control"
              id="horas_trabajadas"
              name="horas_trabajadas"
              min="0"
              max="100"
              step="1"
              required
            />
            <label for="horas_trabajadas">Horas trabajadas por semana</label>
          </div>
        </div>

        <!-- Nivel de satisfacción -->
        <div class="col-md-6">
          <div class="form-floating">
            <input
              type="number"
              class="form-control"
              id="nivel_satisfaccion"
              name="nivel_satisfaccion"
              min="0"
              max="10"
              step="1"
              required
            />
            <label for="nivel_satisfaccion">Nivel de satisfacción (0-10)</label>
          </div>
        </div>

        <!-- Botón de envío -->
        <div class="col-12">
          <button type="submit" class="btn btn-primary w-100 py-3">
            Evaluar
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
<!-- Formulario de Bienestar Laboral End -->

<script>
  $("#formBienestarLaboral").validate({
    rules: {
      nivel_estres: {
        required: true,
        min: 0,
        max: 10,
      },
      horas_trabajadas: {
        required: true,
        min: 0,
        max: 100,
      },
      nivel_satisfaccion: {
        required: true,
        min: 0,
        max: 10,
      },
    },
    messages: {
      nivel_estres: "Ingrese un valor entre 0 y 10.",
      horas_trabajadas: "Ingrese entre 0 y 100 horas.",
      nivel_satisfaccion: "Ingrese un valor entre 0 y 10.",
    },
    errorPlacement: function (error, element) {
      if (element.parent(".form-floating").length) {
        error.insertAfter(element.parent());
      } else {
        error.insertAfter(element);
      }
    },
  });
</script>

<style>
  label.error {
    color: white;
    font-weight: bold;
    background-color: red;
    border-radius: 10px;
    padding: 5px;
    margin-top: 5px;
  }
  input.error {
    border: 1px solid red;
  }
</style>
{% endblock %}
