{% extends 'plantilla.html' %} {% load static %} {% block contenido %}
<!-- Formulario de Predicción Clima Start -->
<div class="container-xxl py-5">
  <div class="container">
    <div class="text-center mx-auto mb-5" style="max-width: 800px">
      <h2 class="mb-3">Formulario de Predicción del Clima</h2>
      <p class="fs-5">
        Complete el formulario para predecir el comportamiento del clima.
      </p>
    </div>
    <form id="formPrediccionClima" action="#" method="POST">
      {% csrf_token %}
      <div class="row g-4">
        <!-- Temperatura °C -->
        <div class="col-md-6">
          <div class="form-floating">
            <input
              type="number"
              class="form-control"
              id="temperatura"
              name="temperatura"
              min="-50"
              max="60"
              step="0.1"
              required
            />
            <label for="temperatura">Temperatura °C</label>
          </div>
        </div>

        <!-- Hora del día -->
        <div class="col-md-6">
          <div class="form-floating">
            <select
              class="form-control"
              id="hora_del_dia"
              name="hora_del_dia"
              required
            >
              <option value="">Seleccione la hora</option>
              {% for i in horas %}
              <option value="{{ i }}">{{ i }}:00</option>
              {% endfor %}
            </select>

            <label for="hora_del_dia">Hora del día</label>
          </div>
        </div>

        <!-- Día de la semana -->
        <div class="col-md-6">
          <div class="form-floating">
            <select
              class="form-control"
              id="dia_de_la_semana"
              name="dia_de_la_semana"
              required
            >
              <option value="">Seleccione un día</option>
              <option value="lunes">Lunes</option>
              <option value="martes">Martes</option>
              <option value="miércoles">Miércoles</option>
              <option value="jueves">Jueves</option>
              <option value="viernes">Viernes</option>
              <option value="sábado">Sábado</option>
              <option value="domingo">Domingo</option>
            </select>
            <label for="dia_de_la_semana">Día de la semana</label>
          </div>
        </div>

        <!-- Botón de envío -->
        <div class="col-12">
          <button type="submit" class="btn btn-primary w-100 py-3">
            Predecir
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
<!-- Formulario de Predicción Clima End -->

<script>
  $("#formPrediccionClima").validate({
    rules: {
      temperatura: {
        required: true,
        min: -50,
        max: 60,
      },
      hora_del_dia: {
        required: true,
      },
      dia_de_la_semana: {
        required: true,
      },
    },
    messages: {
      temperatura: "Ingrese una temperatura válida entre -50°C y 60°C.",
      hora_del_dia: "Seleccione una hora del día.",
      dia_de_la_semana: "Seleccione un día de la semana.",
    },
    errorPlacement: function (error, element) {
      if (element.parent(".form-floating").length) {
        error.insertAfter(element.parent());
      } else {
        error.insertAfter(element);
      }
    },
  });
</script>

<style>
  label.error {
    color: white;
    font-weight: bold;
    background-color: red;
    border-radius: 10px;
    padding: 5px;
    margin-top: 5px;
  }
  input.error {
    border: 1px solid red;
  }
  select.error {
    border: 1px solid red;
  }
</style>
{% endblock %}
